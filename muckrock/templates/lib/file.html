{% load tags %}
<div class="file" data-doc-id="{{file.doc_id}}" data-title="{{file.title}}" data-pages="{{file.pages}}" {% if not hide_id %}id="{{file.anchor}}"{% endif %}>
    {% if file.is_doccloud and file.doc_id and file.is_public %}
    <div class="file-image thumbnail">
    {% else %}
    <div class="file-image">
    {% endif %}
        <img src="{{SITE_ROOT}}{{file.get_thumbnail}}" />
    </div>
    <div class="file-info">
        <p class="title">{{file.title}}</p>
        <ul class="file-actions">
            {% if file.is_doccloud and file.doc_id and file.is_public %}
            <li>
                {% if foia_url %}
                {# if foia_url, then we are on the FOIA page already #}
                <a href="#{{ file.anchor }}" class="view-file action">
                {% else %}
                <a href="{{ SITE_ROOT }}{{ file.foia.get_absolute_url }}#{{ file.anchor }}" class="view-file action">
                {% endif %}
                    {% include 'lib/component/icon/view.svg' %}
                    <span class="label">View</span>
                </a>
            </li>
            <li>
                <span class="toggle-embed action">
                    {% include 'lib/component/icon/embed.svg' %}
                    <span class="label">Embed</span>
                </span>
            </li>
            {% endif %}
            {% if file.ffile %}
            <li>
                <a href="{{file.ffile.url}}" target="_blank" class="action">
                    {% include 'lib/component/icon/download.svg' %}
                    <span class="label">Download</span>
                </a>
            </li>
            {% endif %}
        </ul>
        {% if file.is_doccloud and file.doc_id %}
        <div class="file-embed">
            <textarea readonly><div class="viewer" id="viewer-{{ file.doc_id }}"></div><script src="https://s3.amazonaws.com/s3.documentcloud.org/viewer/loader.js"></script><script>DV.load("https://www.documentcloud.org/documents/{{ file.doc_id}}.js", {width: 600, height: 600, sidebar: false, container: "#viewer-{{ file.doc_id }}"});</script></textarea>
        </div>
        {% endif %}
    </div>

</div>
