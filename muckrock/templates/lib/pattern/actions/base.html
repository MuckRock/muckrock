{% load tags %}
<div class="notification__action">
{% block actor %}
    <span class="actor">
    {% if action.actor.get_absolute_url %}
        <a href="{{ action.actor.get_absolute_url }}?{% autologin user %}">{{ action.actor }}</a>
    {% else %}
        {{ action.actor }}
    {% endif %}
    </span>
{% endblock actor %}

{% block verb %}
    <span class="verb"> {{ action.verb }}</span>
{% endblock verb %}

{% block action_object %}
{% if action.action_object %}
    <span class="action-object">
    {% if action.action_object.get_absolute_url %}
        <a href="{{ action.action_object.get_absolute_url }}?{% autologin user %}"> {{ action.action_object }}</a>
    {% else %}
        {{ action.action_object }}
    {% endif %}
    </span>
{% endif %}
{% endblock action_object %}

{% block preposition %}
{% if action.action_object and action.target %}<span class="action preposition"> to</span>{% endif %}
{% endblock preposition %}

{% block target %}
{% if action.target %}
    <span class="target">
    {% if action.target.get_absolute_url %}
        <a href="{{ action.target.get_absolute_url }}?{% autologin user %}"> {{ action.target }}</a>
    {% else %}
         {{ action.target }}
    {% endif %}
    </span>
{% endif %}
{% endblock target %}

{% block extra %}
    <time class="timestamp" title="{{ action.timestamp|date:'c' }}" datetime="{{ action.timestamp|date:'c' }}"> {{ action.timestamp|timesince }} ago</time>
{% endblock extra %}

</div>
